---
description: TypeScript2.9ã®ãƒªãƒªãƒ¼ã‚¹å†…å®¹ã¾ã¨ã‚
---

# [TypeScript] 2.9

{{ page.meta.description }}


## [Support number and symbol named properties with keyof and mapped types]

[Support number and symbol named properties with keyof and mapped types]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-9.html#support-number-and-symbol-named-properties-with-keyof-and-mapped-types

{{label('had_better')}} {{label('normal')}}

index typesã‚„[mapped types]ã§`number`ã‚„`symbol`ã®named propertiesã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | named propertiesã§ã‚µãƒãƒ¼ãƒˆã™ã‚‹å‹ |
| ---------- | -------------------------------- |
| 2.8ä»¥å‰    | string                           |
| 2.9        | string, **number**, **symbol**   |

=== "index typesãŒstring"
    ```typescript
    const One = Symbol();
    interface A {
      one: string;
      1: string;
      [One]: string;
      [x: string]: string;
    }
    type KeyOfA = keyof A;
    // v2.8: string
    //   * 1ã¯stringã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ãŸã‚ "one" | "1"
    //   * symbolã¯æœªå¯¾å¿œãªã®ã§ç„¡è¦–
    //   * stringã®index typesã« "one" | "1" ã‚‚å«ã¾ã‚Œã‚‹ã®ã§ã¾ã¨ã‚ã¦string
    // v2.9: string | number | unique symbol
    //   * keyofãŒnumberã¨symbolã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ
    //   * "one"ã¯stringã®ã‚µãƒ–ã‚¿ã‚¤ãƒ—ã¨ã—ã¦çµ±åˆã•ã‚ŒãŸ
    ```

=== "index typesãŒnumber"
    ```typescript
    const Two = Symbol();
    interface B {
      two: string;
      2: string;
      [Two]: string;
      [x: number]: string;
    }
    type KeyOfB = keyof B;
    // v2.8: "two" | "2"
    //   * 2ã¯stringã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ãŸã‚ "two" | "2"
    //   * symbolã¯æœªå¯¾å¿œãªã®ã§ç„¡è¦–
    //   * numberã®index typesã¯ã‚µãƒãƒ¼ãƒˆå¤–ã®ãŸã‚ç„¡è¦–
    // v2.9: number | unique symbol | "two"
    //   * keyofãŒnumberã¨symbolã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ
    //   * 2ã¯numberã®ã‚µãƒ–ã‚¿ã‚¤ãƒ—ã¨ã—ã¦çµ±åˆã•ã‚ŒãŸãŒã€"two"ã¨[Two]ã¯numberã§ãªã„ãŸã‚æ®‹ã‚‹
    ```

=== "index typesãªã—"
    ```typescript
    const Three = Symbol();
    interface C {
      three: string;
      3: string;
      [Three]: string;
    }
    type KeyOfC = keyof C;
    // v2.8: "three" | "3"
    //   * 3ã¯stringã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ãŸã‚ "three" | "3"
    //   * symbolã¯æœªå¯¾å¿œãªã®ã§ç„¡è¦–
    // v2.9: unique symbol | "three" | 3
    //   * index typesã¯ç„¡ã„ã®ã§ã€named propertiesãŒãã®ã¾ã¾union typesã¨ã—ã¦é©å¿œã•ã‚Œã‚‹
    ```

index typesãŒstringä»¥å¤–ã®å ´åˆã§[mapped types]ã‚’ç”¨ã„ã¦ã‚‚ã€index typesã®å‹ãŒå°Šé‡ã•ã‚Œã‚‹ã€‚

```typescript
interface D {
  hoge: string;
  [x: number]: string;
}
type ReadonlyType<T> = { readonly [P in keyof D]: D[P] };
declare const tmp: ReadonlyType<D>;
const r = tmp[10];
// v2.8: TS7017: Element implicitly has an 'any' type because type 'ReadonlyType ' has no index signature
//   * numberã®index typesã¯æœªå¯¾å¿œã®ãŸã‚èªè­˜ã•ã‚Œãªã„ã‹ã‚‰anyã«ãªã‚‹
// v2.9: rã¯string
//   * numberã®index typesãŒèªè­˜ã•ã‚Œã‚‹ãŸã‚stringã¨ã¿ãªã•ã‚Œã‚‹
```

!!! warning "JetBrainsã®IDEã§å‹æ¨è«–ãŒä¸Šæ‰‹ãåæ˜ ã•ã‚Œãªã„"
    ç¨€ã«ã€IDEç‰¹æœ‰ã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦åˆ¤å®šã•ã‚ŒãŸå‹ã¯æ­£ã—ãæ¨è«–ã•ã‚Œãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚  
    ãã®å ´åˆã¯tscã®å®Ÿè¡Œçµæœã‚’ç¢ºèªã—ã¦ã€ãã¡ã‚‰ã‚’ä¿¡ã˜ã¾ã—ã‚‡ã†ğŸ˜œ

[mapped types]: ../2.1/#mapped-types
