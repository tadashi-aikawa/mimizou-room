---
description: TypeScript2.2ã®ãƒªãƒªãƒ¼ã‚¹å†…å®¹ã¾ã¨ã‚
---

# [TypeScript] 2.2

{{ page.meta.description }}


## [Support for Mix-in classes]

[Support for Mix-in classes]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html

{{label('had_better')}} {{label('normal')}} 

ES2015ã®Mixin class patternã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚  
TypeScriptã¯å¤šé‡ç¶™æ‰¿[^å¤šé‡ç¶™æ‰¿]ã§ããªã„ãŸã‚ã€ãã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ã§åˆ©ç”¨ã§ãã‚‹ã€‚

[^å¤šé‡ç¶™æ‰¿]: `class A extends B, C` ã®ã‚ˆã†ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å¤šé‡ç¶™æ‰¿ã¨ã„ã†

### Mixin constructor type

å‹`X`ã«å¯¾ã™ã‚‹`new (...args: any[]) => X`ã®ã“ã¨ã€‚

### Mixin class

ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ã‚¯ãƒ©ã‚¹ã®ã“ã¨ã€‚

* å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒ`Constructor` (`Constructor<AnyClass>`) ã‚’ç¶™æ‰¿ã—ã¦ã„ã‚‹
* ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å¼•æ•°ãŒ`(...args: any[])`ã‹ã¤ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã¸ã®å—ã‘æ¸¡ã—ãŒ`super(...args)`

å…·ä½“ä¾‹ã€‚

```typescript
type Constructor<T = {}> = new (...args: any[]) => T;

// ã™ã¹ã¦ã®ã‚¯ãƒ©ã‚¹ã«é©å¿œå¯èƒ½ãªMixin
function Debuggable<C extends Constructor>(BaseClass: C) {
  return class extends BaseClass {
    canDebug = true;
  };
}

// Humanã®ã‚·ã‚°ãƒ‹ãƒãƒ£ã‚’æŒã¤ã‚¯ãƒ©ã‚¹ã®ã¿ã«é©å¿œå¯èƒ½ãªMixin
function Ohagozable<C extends Constructor<Human>>(BaseClass: C) {
  return class extends BaseClass {
    ohagoza(message: string) {
      console.log(`${this.name}: ohagoza! ${message}`);
    }
  };
}

class Human {
  constructor(public name: string) {}
}

// Mixiné©å¿œ
const OhagozaHuman = Debuggable(Ohagozable(Human));

// Mixiné©å¿œã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
const take = new OhagozaHuman("Take100");

take.ohagoza(`My tag is ${take.canDebug}`);
// -> Take100: ohagoza! My tag is true
```

## [object type]

[object type]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#object-type

{{label('should')}} {{label('easy')}} 

primitiveã§ãªã„å‹ã¨ã—ã¦ã€`(obj: object)`ã®ã‚ˆã†ãªobjectå‹ãŒè¿½åŠ ã•ã‚ŒãŸã€‚  
ä»¥ä¸‹ã®ã„ãšã‚Œã§ã‚‚ãªã„ã‚ˆã†ãªå‹ã€‚

* number
* string
* boolean
* symbol
* null
* undefined

## [Support for new.target]

[Support for new.target]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#support-for-newtarget

{{label('unknown')}} {{label('can_not_understand')}} 

ES2015ã®`new.target`ã«å¯¾å¿œã—ãŸã€‚  
`new.target`ã«ã¤ã„ã¦ã€ä»•æ§˜ã¨ä½¿ã„æ‰€ã‚’ç†è§£ã§ãã¦ã„ãªã„ã€‚ã€‚

## [Better checking for null/undefined in operands of expressions]

[Better checking for null/undefined in operands of expressions]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#better-checking-for-nullundefined-in-operands-of-expressions

{{label('should')}} {{label('easy')}} 

å¼ã®ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã«å¯¾ã™ã‚‹`null/undefined`ã«å¯¾ã™ã‚‹ãƒã‚§ãƒƒã‚¯ãŒæ”¹å–„ã—ãŸã€‚  

| æ¼”ç®—å­                                            | ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹æ¡ä»¶                                                  |
| ------------------------------------------------- | ----------------------------------------------------------------- |
| `+`                                               | `ã©ã¡ã‚‰ã‹ã®ã‚ªãƒšãƒ©ãƒ³ãƒ‰ãŒNullable` ã‹ã¤ `string` or `any`å‹ã§ã¯ãªã„ |
| `-` `*` `**` `/` `%` `^`                          | ã©ã¡ã‚‰ã‹ã®ã‚ªãƒšãƒ©ãƒ³ãƒ‰ãŒNullable                                    |
| `<<` `>>` `>>>` `&` `â”ƒ`                          | ã©ã¡ã‚‰ã‹ã®ã‚ªãƒšãƒ©ãƒ³ãƒ‰ãŒNullable                                    |
| `<` `>` `<=` `>=` `in`                            | ã©ã¡ã‚‰ã‹ã®ã‚ªãƒšãƒ©ãƒ³ãƒ‰ãŒNullable                                    |
| `instanceof`                                      | å³ã‚ªãƒšãƒ©ãƒ³ãƒ‰ãŒNullable                                            |
| å˜é …æ¼”ç®—å­ (`+` `-` `~` `++` `--`)                | ã‚ªãƒšãƒ©ãƒ³ãƒ‰ãŒNullable                                              |

`--strictNullChecks`ãŒç„¡åŠ¹ã®å ´åˆã¯å®Ÿè³ªä½¿ãˆãªã„ã€‚  
`var: string | undefined`ã®ã‚ˆã†ãªè¡¨ç¾ãŒã§ããªã„ãŸã‚ã€‚

## [Dotted property for types with string index signatures]

[Dotted property for types with string index signatures]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#dotted-property-for-types-with-string-index-signatures

{{label('should')}} {{label('easy')}} 

stringå‹ã®indexã«é™ã‚Šã€ãƒ‰ãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚

=== "ğŸ‘ ãƒ‰ãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½"
    ```typescript
    const hoge = {
      key: "value"
    }

    hoge.key
    ```

=== "âŒ ãƒ‰ãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹ä¸å¯èƒ½"
    ```typescript
    const hoge = {
      2: "value"
    }

    // stringå‹ä»¥å¤–ã®indexã«ã¯ãƒ‰ãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„
    hoge.2
    ```

## [Support for spread operator on JSX element children]

[Support for spread operator on JSX element children]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#support-for-spread-operator-on-jsx-element-children

{{label('should')}} {{label('easy')}} 

JSXã®å­è¦ç´ ã¨ã—ã¦spread operatorãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚  
è©³ç´°ã¯ [facebook/jsx/issues/57](https://github.com/facebook/jsx/issues/57) ã‚’å‚ç…§ã€‚

## [New jsx: react-native]

[New jsx: react-native]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#new-jsx-react-native

{{label('should')}} {{label('easy')}} 

`--jsx`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å€¤ã«`react-native`ãŒè¿½åŠ ã•ã‚ŒãŸã€‚  
æŒ‡å®šã™ã‚‹ã¨ã€JSXã®æœ‰ç„¡ã«ã‹ã‹ã‚ã‚‰ãš`.js`ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›ã™ã‚‹ã€‚ (`.jsx`ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã—ãªã„)
